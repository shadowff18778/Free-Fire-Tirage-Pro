<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Free Fire Tirage Pro</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- ... <head> reste inchang√© jusqu'√† <style> -->

<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap');
  * { box-sizing: border-box; }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Orbitron', sans-serif;
    background: radial-gradient(circle at center, #0f0f0f, #000);
    color: #00ffe7;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    padding: 20px;
  }

  h1 {
    font-size: 2.5rem;
    margin-bottom: 20px;
    text-align: center;
    text-shadow: 0 0 10px #00ffe7;
  }

  .input-section, .search-bar {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    max-width: 500px;
    margin-bottom: 20px;
  }

  input[type="text"] {
    padding: 10px;
    font-size: 1rem;
    border-radius: 10px;
    border: none;
    width: 100%;
    margin-bottom: 10px;
    background: #111;
    color: #00ffe7;
    box-shadow: 0 0 10px rgba(0,255,230,0.2);
  }

  input[type="checkbox"] {
    margin-top: 10px;
  }

  .add-btn, .draw-btn, .floating-btn, .tiktok-btn {
    padding: 12px 25px;
    font-size: 1rem;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    box-shadow: 0 0 15px #0072ff;
    transition: transform 0.3s ease;
  }

  .add-btn {
    background: linear-gradient(135deg, #00c6ff, #0072ff);
    color: white;
  }

  .add-btn:active, .draw-btn:active {
    transform: scale(0.95);
  }

  .draw-btn {
    margin-top: 30px;
    background: linear-gradient(135deg, #ff00cc, #3333ff);
    color: white;
    box-shadow: 0 0 20px #ff00cc;
  }

  .id-count {
    font-size: 0.9rem;
    margin-top: -5px;
    margin-bottom: 10px;
    color: #00ffe7aa;
    font-style: italic;
    text-align: right;
    width: 100%;
    max-width: 500px;
  }

  .id-list {
    width: 100%;
    max-width: 500px;
    background: #111;
    border-radius: 15px;
    padding: 15px;
    margin-top: 10px;
    box-shadow: 0 0 20px rgba(0, 255, 230, 0.3);
    max-height: 250px;
    overflow-y: auto;
  }

  .id-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 5px 0;
    font-size: 1rem;
    color: #00ffcc;
  }

  .id-item.highlight {
    background-color: #003322;
    color: #00ff88;
    padding: 5px;
    border-radius: 8px;
  }

  .remove-btn {
    background: none;
    border: none;
    color: red;
    font-size: 1.2rem;
    cursor: pointer;
  }

  .draw-zone {
    margin-top: 30px;
    width: 100%;
    max-width: 500px;
    height: 60px;
    background: #111;
    border-radius: 15px;
    box-shadow: 0 0 15px rgba(255,255,255,0.1);
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .draw-display {
    font-size: 1.5rem;
    color: #00ffe7;
    white-space: nowrap;
    overflow: hidden;
  }

  .modal, .overlay {
    display: none;
    opacity: 0;
    transition: all 0.4s ease;
  }

  .modal.show, .overlay.show {
    display: block;
    opacity: 1;
  }

  .modal {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(1);
    background: #111;
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0 0 30px #00ffe7;
    z-index: 1000;
    width: 90%;
    max-width: 400px;
    text-align: center;
  }

  .overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.6);
    z-index: 999;
  }

  .modal button {
    margin-top: 20px;
    padding: 10px 20px;
    border: none;
    border-radius: 10px;
    background: #00ffe7;
    color: #000;
    font-weight: bold;
    cursor: pointer;
    margin-right: 10px;
  }

  .floating-btn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: #00ffe7;
    color: black;
    font-size: 1.5rem;
    box-shadow: 0 0 15px #00ffe7;
    z-index: 100;
    transition: transform 0.3s ease;
  }

  .floating-btn:active {
    transform: scale(0.9);
  }

  .tiktok-panel {
    position: fixed;
    bottom: 100px;
    right: 20px;
    background: #111;
    border: 1px solid #00ffe7;
    border-radius: 15px;
    padding: 15px;
    box-shadow: 0 0 20px #00ffe7;
    display: none;
    flex-direction: column;
    gap: 10px;
    z-index: 99;

    opacity: 0;
    transform: scale(0.8) translateY(40px);
    transition: all 0.4s ease;
    pointer-events: none;
  }

  .tiktok-panel.show {
    display: flex;
    opacity: 1;
    transform: scale(1.03) translateY(0);
    pointer-events: auto;
    animation: panelPop 0.4s ease forwards;
  }

  @keyframes panelPop {
    0%   { transform: scale(0.8) translateY(40px); opacity: 0; }
    60%  { transform: scale(1.1) translateY(-10px); opacity: 1; }
    100% { transform: scale(1.03) translateY(0); opacity: 1; }
  }

  .tiktok-btn {
    background: linear-gradient(135deg, #ff0050, #7f00ff);
    color: white;
    padding: 10px 15px;
    border-radius: 10px;
    text-align: center;
    text-decoration: none;
    font-weight: bold;
  }

  .signature {
    margin-top: 50px;
    text-align: center;
    font-size: 0.9rem;
    color: #888;
    animation: flicker 3s infinite;
  }

  .signature span {
    color: #00ffe7;
    font-weight: bold;
  }

  .collab {
    font-size: 0.8rem;
    color: #555;
    font-style: italic;
    margin-top: 5px;
  }

  @keyframes flicker {
    0% { opacity: 0.2; }
    50% { opacity: 1; }
    100% { opacity: 0.2; }
  }
</style>
</head>
<body>
  <h1>Free Fire Tirage Pro</h1>

  <div class="input-section">
    <input id="idInput" type="text" placeholder="Entre un ID Free Fire">
    <button class="add-btn" onclick="addID()">Ajouter</button>
    <label style="color: #00ffe7; margin-top:10px;">
      <input type="checkbox" id="noDuplicate"> Ne pas autoriser les doublons
    </label>
  </div>

  <div class="search-bar">
    <input id="searchInput" type="text" placeholder="Rechercher un ID">
  </div>

  <div class="id-count" id="idCount">0 ID(s) ajout√©s</div>

  <div class="id-list" id="idList">
    <p><em>Aucun ID ajout√© pour l'instant...</em></p>
  </div>

  <button class="draw-btn" onclick="openModal()">Lancer le tirage</button>

  <div class="draw-zone">
    <div class="draw-display" id="drawDisplay">Pr√™t pour le tirage</div>
  </div>

  <div class="modal" id="modal">
    <p>Confirmer le tirage au sort ?</p>
    <button onclick="confirmDraw()">Oui</button>
    <button onclick="closeModal()">Annuler</button>
  </div>
  <div class="overlay" id="overlay" onclick="closeModal()"></div>

  <div class="signature">
    Site cr√©√© par <span>Shadow</span>
    <div class="collab">Collab avec @ff.greedo</div>
  </div>

  <button class="floating-btn" onclick="toggleTikTokPanel()">‚ãÆ</button>
  <div class="tiktok-panel" id="tiktokPanel">
    <a href="https://www.tiktok.com/@shadow_ff18" target="_blank" class="tiktok-btn">@shadow_ff18</a>
    <a href="https://www.tiktok.com/@ff.greedo" target="_blank" class="tiktok-btn">@ff.greedo</a>
  </div>

  <script>
    const idInput = document.getElementById('idInput');
    const idList = document.getElementById('idList');
    const idCount = document.getElementById('idCount');
    const searchInput = document.getElementById('searchInput');
    const noDuplicate = document.getElementById('noDuplicate');
    const drawDisplay = document.getElementById('drawDisplay');
    const modal = document.getElementById('modal');
    const overlay = document.getElementById('overlay');
    const tiktokPanel = document.getElementById('tiktokPanel');
    let ids = [];

    function updateIDCount() {
      idCount.textContent = `${ids.length} ID(s) ajout√©s`;
    }

    function addID() {
      let id = idInput.value.trim().replace(/\D/g, '').slice(0, 12);
      if (id.length < 8) return alert("L'ID doit contenir au moins 8 chiffres");
      if (noDuplicate.checked && ids.includes(id)) return alert("ID d√©j√† pr√©sent !");
      ids.push(id);
      if (noDuplicate.checked) ids = [...new Set(ids)];
      updateList();
      idInput.value = '';
    }

    function updateList() {
      idList.innerHTML = '';
      if (ids.length === 0) return idList.innerHTML = '<p><em>Aucun ID ajout√© pour l\'instant...</em></p>';
      ids.forEach((id, i) => {
        const div = document.createElement('div');
        div.className = 'id-item';
        div.innerHTML = `${i+1}. ${id} <button class='remove-btn' onclick='removeID(${i})'>&#10006;</button>`;
        idList.appendChild(div);
      });
      updateIDCount();
      highlightSearch();
    }

    function removeID(i) {
      ids.splice(i, 1);
      updateList();
    }

    function openModal() {
      modal.classList.add('show');
      overlay.classList.add('show');
    }

    function closeModal() {
      modal.classList.remove('show');
      overlay.classList.remove('show');
    }

    function confirmDraw() {
      closeModal();
      if (ids.length === 0) return alert("Ajoute des IDs avant de tirer");
      let i = 0, s = 100, c = 0, t = 60 + Math.random()*30;
      function spin() {
        drawDisplay.textContent = ids[i % ids.length];
        i++; c++;
        if (c > t) return drawDisplay.textContent = `üéâ Gagnant: ${ids[(i-1)%ids.length]} üéâ`;
        if (c > t-10) s += 20;
        setTimeout(spin, s);
      }
      spin();
    }

    searchInput.addEventListener('input', () => {
      const val = searchInput.value.trim();
      if (val === '') return updateList();
      const idx = ids.findIndex(id => id.includes(val));
      if (idx > -1) {
        const found = ids.splice(idx, 1)[0];
        ids.unshift(found);
        updateList();
      } else updateList();
    });

    function highlightSearch() {
      const val = searchInput.value.trim();
      document.querySelectorAll('.id-item').forEach(item => {
        const txt = item.textContent.replace(/[^0-9]/g, '');
        item.classList.toggle('highlight', txt.includes(val) && val !== '');
      });
    }

    noDuplicate.addEventListener('change', () => {
      if (noDuplicate.checked) {
        ids = [...new Set(ids)];
        updateList();
      }
    });

    function toggleTikTokPanel() {
      tiktokPanel.classList.toggle('show');
    }
  </script>
</body>
</html>
